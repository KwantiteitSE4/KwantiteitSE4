version: 2.1 # Use version 2.1 to enable orb usage.

orbs:
  win: circleci/windows@5 # The Windows orb give you everything you need to start using the Windows executor.

jobs:
  say-hello:
    # Specify the execution environment. You can specify an image from Dockerhub or use one of our Convenience Images from CircleCI's Developer Hub.
    # See: https://circleci.com/docs/2.0/configuration-reference/#docker-machine-macos-windows-executor
    docker:
      - image: cimg/base:stable
    # Add steps to the job
    # See: https://circleci.com/docs/2.0/configuration-reference/#steps
    steps:
      - checkout
      - run:
          name: "Say hello"
          command: "echo Hello, World!"

  Front-end-testing:
    executor:
      name: win/server-2019 # executor type
      size: "medium" # resource class, can be "medium", "large", "xlarge", "2xlarge", defaults to "medium" if not specified

    steps:
      # Commands are run in a Windows virtual machine environment
      - checkout
      - run:
           name: running frontend tests
           command: |
            cd KwantiteitSE4
            cd ClientApp
            npm install
            npm test
  Back-end-testing:
      executor:
          name: win/default # executor type
          size: "medium" # resource class, can be "medium", "large", "xlarge", "2xlarge", defaults to "medium" if not specified
      steps:
          - checkout
          - run:
              name: running backend tests
              command: |
                cd DartTDD
                dotnet test
workflows:
    testing-workflow:
        jobs:
            - say-hello
            - Front-end-testing
            - Back-end-testing
  

        